"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[78722,18755],{50165:(e,t,n)=>{n.d(t,{$:()=>c,r:()=>p});var i=n(667294),a=n(498490),r=n(636565),l=n(297728),o=n(730212),s=n(961754),u=n(785893);let{Provider:d,useHook:c}=(0,a.Z)("PinRep");function p({children:e}){let{isAuthenticated:t}=(0,o.B)(),{checkExperiment:n}=(0,l.F)(),{experience:a}=(0,r.Ow)(1000069),[c,p]=(0,i.useState)(!0),[m,f]=(0,i.useState)(!1),[_,w]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null),[v,R]=(0,i.useState)(null),S=(0,r.oS)(1000069),{anyEnabled:y}=n("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),I=(0,s.Z)(t&&y?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,i.useEffect)(()=>{if(!t){p(!1);return}a&&(!a||a?.experience_id===500417&&a?.display_data.hide_footer)?S.viewExperience(1000069,500417):p(!1),f(!0)},[a]);let E=(0,i.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:_,hasSimplifiedPinGridExpLoaded:m,hidePinRepFooter:c,quickSaveBoardId:I,setHasMetSaveRequirementOnUseCaseFeed:w,setUseCaseFeedOriginalPinId:R,setUseCaseFeedRepinId:h,useCaseFeedOriginalPinId:v,useCaseFeedRepinId:g}),[_,m,c,I,w,R,h,v,g]);return(0,u.jsx)(d,{value:E,children:e})}},829196:(e,t,n)=>{n.d(t,{YS:()=>o,eF:()=>s,m_:()=>l});var i=n(431705),a=n(194093),r=n(415787);function l(e,t,n,a,l){let o=new URLSearchParams,s=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);o.append(i.NR.SOURCE_EVENT_ID,e??"0"),o.append(i.NR.DESTINATION,JSON.stringify([...s])),o.append(i.NR.EXPIRY,n?i.uV:i.ug),o.append(i.NR.PRIORITY,n?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),l&&o.append(i.NR.ADVERTISER_ID,l),a&&o.append(i.NR.CAMPAIGN_ID,a),o.append(i.NR.SOURCE_EVENT_TYPE,n?i.bC:i.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(i.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function o(e,t,n,i,o,s,u,d,c){let p;let{appType:m,osType:f}=s||{},_="",w="";if(["Pin","pinImpressions"].includes(e)&&t&&(i||d||c)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:f}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:f}});return}_=l(n,[i,d,c],!1,o,u);try{w=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(w&&"www.pinterest.com"!==w)document.createElement("img").setAttribute("attributionsrc",_),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:f,hostname:w}});else if(!(p=await window.fetch(_,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:f}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,a.Z)(e,"name"),message:(0,a.Z)(e,"message"),appType:m,osType:f,hostname:w,responseStatus:p&&p.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:f}})}function s(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},118755:(e,t,n)=>{n.d(t,{G6:()=>r,i7:()=>l,oi:()=>i,u$:()=>a,un:()=>s,vU:()=>o,w1:()=>u});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function r(e){return a(e)===i.SAFARI}function l(e){return a(e)===i.CHROME}function o(e){return a(e)===i.FIREFOX}function s(e){return a(e)===i.EDGE}function u(e){return a(e)===i.IE}},293321:(e,t,n)=>{n.d(t,{kf:()=>w,l5:()=>f,of:()=>p,xC:()=>_,yz:()=>m});var i=n(667294),a=n(498490),r=n(915571),l=n(969119),o=n(346645),s=n(415787),u=n(785893);let{Provider:d,useMaybeHook:c}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,a]=(0,i.useState)(null),o=t||{pwaType:"unknown",twaType:null},c=o.pwaType;(0,l.Z)(()=>{let e=(0,r.FB)(window)||"unknown";a(e),c!==e&&(0,s.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&n?n:c,{twaType:m}=o,f=(0,i.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,u.jsx)(d,{value:f,children:e})},m=()=>{let e=c();return e?.pwaType??"unknown"},f=()=>{let e=c();return e?.twaType??null},_=()=>"android-twa"===m(),w=()=>{let e=m(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},529264:(e,t,n)=>{n.d(t,{H5:()=>_,Xn:()=>m,an:()=>f});var i=n(868808);let a="BING",r="GOOGLE",l="YAHOO",o="YANDEX",s="RAKUTEN",u="NAVER",d="AMP_CACHE",c="DUCKDUCKGO",p=[r,a,l,o,s,u,d,c];function m(e){return p.includes(function(e){let{hostname:t}=(0,i.Qc)(e,!0);if(t&&e){if(t.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return r;if(t.includes("bing."))return a;if(t.includes("yahoo."))return l;if(t.includes("yandex."))return o;else if(t.includes("rakuten."))return s;else if(t.includes("naver."))return u;else if(t.includes("duckduckgo."))return c;else if(t.includes(".cdn.ampproject.org"))return d}return""}(e))}function f(e){return e||"undefined"!=typeof document&&document.referrer||""}let _=e=>{let t=new URL(e);return t.searchParams.set("nii","t"),t.href}},623722:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(414416),a=n(503237);let r=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,a.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,i.Z)(e[1]).pinId||void 0}}},644797:(e,t,n)=>{n.d(t,{W:()=>d,r:()=>u});var i=n(667294),a=n(573706),r=n(498490),l=n(297728),o=n(785893);let{Provider:s,useHook:u}=(0,r.Z)("VideoPlayer");function d({children:e}){let{logContextEvent:t,logImpression:n}=(0,a.v)(),{checkExperiment:r}=(0,l.F)(),[u,d]=(0,i.useState)(!1),[c,p]=(0,i.useState)([]),[m,f]=(0,i.useState)([]),[_,w]=(0,i.useState)({}),g=r("web_ads_mrc_video_impression").anyEnabled,h=e=>{w(t=>({...t,[e]:!0}))},v=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||n)&&p(t=>[...t,e].slice(-1e3))}},[g]),R=(0,i.useCallback)(e=>{18===e.eventType&&g&&f(t=>[...t,e].slice(-1e3))},[g]),S=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},y=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,i.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!_[n]||!g||(t(S(e)),!1)});e.length!==c.length&&p(e)},[c,g,t,_]),(0,i.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&g){let t=y(e);return t&&n(t),!1}return!0});e.length!==m.length&&f(e)},[m,g,n,_]);let I=(0,i.useMemo)(()=>({captionsEnabled:u,logMrcVideoAdImpressionOnPlay:R,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:d,setVideoPlayed:h,videosPlayed:_}),[u,v,R,_]);return(0,o.jsx)(s,{value:I,children:e})}},563646:(e,t,n)=>{n.d(t,{w:()=>s,z:()=>o});var i=n(667294),a=n(498490),r=n(785893);let{Provider:l,useMaybeHook:o}=(0,a.Z)("CloseupPreviewContext");function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)(()=>({setData:(e,t)=>n(n=>({...n,[e]:t})),getData:e=>t[e]}),[t]);return(0,r.jsx)(l,{value:a,children:e})}},193836:(e,t,n)=>{n.d(t,{_l:()=>v,cO:()=>h,t2:()=>R,w2:()=>S,xM:()=>g});var i=n(667294),a=n(616550),r=n(252071),l=n(282999),o=n(868808),s=n(410150),u=n(383399),d=n(785893);let c="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",f=(0,i.createContext)(),_=({children:e})=>{let[t,n]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1),l=(0,i.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:a,setHasSeenAuthDesktopLandingToast:r}),[t,n,a,r]);return(0,d.jsx)(f.Provider,{value:l,children:e})},w=(0,i.createContext)({key:"",data:null}),g=({children:e})=>{let t=(0,a.TH)(),n=(0,u.Z)(),f=n&&n.isAuth,g=(0,s.HG)(),h=(0,i.useRef)((0,l.fY)(t)&&(0,o.mB)(t.search).invite_code||null),v=(0,a.LX)(t.pathname,{path:"/pin/:id"}),R=String(v&&"id"in v.params&&v.params.id)||"",[S,y]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)(()=>{(async function(){let e=h.current;if(e)try{let t=r.Z.create("InviteCodeMetadataResource",{invite_code:e}),i=(await t.callGet()).resource_response.data;if(i){let e=i.sender??null,t=f&&e.id!==n.id&&e?.should_show_messaging&&n.should_show_messaging;!f&&g?y({key:c,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(i.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!g?y({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:R}}}}):t&&g&&y({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:R}}}})}else y({key:"",data:null})}catch{y({key:"",data:null})}})()},[f,g,n,R]),(0,d.jsx)(_,{children:(0,d.jsx)(w.Provider,{value:S,children:e})})},h=()=>{let e=(0,i.useContext)(w);return e.key===c?e:null},v=()=>{let e=(0,i.useContext)(w);return e.key===m?e:null},R=()=>{let e=(0,i.useContext)(w);return e.key===p?e:null},S=()=>(0,i.useContext)(f)},720802:(e,t,n)=>{n.d(t,{M:()=>k,R:()=>D});var i=n(667294),a=n(609326),r=n(498490),l=n(800547),o=n(864723),s=n(969119),u=n(640498),d=n(842909);let c=()=>(0,o.M0)().getItem(a.Vb)||[],p=({pinId:e,link:t,imageSignature:n,domain:i})=>{let r=[...c()],l=r.length,s=l?r[0].pinId:"";if(!l||e!==s){let r=(0,d.Z)({pinId:e,link:t,imageSignature:n,domain:i});(0,o.M0)().prependItem(a.Vb,r,u.LG)}},m=()=>(0,o.M0)().getItem(a.ny)||[],f=({query:e,rs:t,scope:n,rg:i})=>{let r=[...m()],l=r.length,s=l?r[0].query:"";if(!l||e!==s){let r=(0,d.Z)({query:e,rs:t,scope:n,rg:i});(0,o.M0)().prependItem(a.ny,r,u.LG)}},_=({query:e})=>{let t=[...m()].filter(t=>t.query!==e);(0,o.M0)().setItem(a.ny,t)};function w(e,t,n){if(e>=n)return`${n}+`;if(e<=0)return"0";let i=e.toString();if(e>t){let n=Math.floor(e/t);i=`${n*t}+`}return i}var g=n(333289),h=n(445330),v=n(927371),R=n(785893);let S=()=>(0,o.M0)().getItem(a.s1)??[],y=()=>parseInt((0,o.M0)().getItem(a.rN)||0,10),I=e=>w(e,5,20),E=(e,t,n)=>t.reduce((t,n)=>(Array.isArray(e[n])&&(t[n+"Count"]=I(e[n].length)),t),n),A=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:i,downloadedPinsCount:a}=e;e.isQUS=Number(t.length>=1||n.length>=3||i.length>=1||a>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{ts:n}=t,i=new Date,a=new Date(n||i),r=Math.max(Math.floor(Number(((i.getTime()-a.getTime())/864e5).toFixed(2))),0),l=w(r,7,84);return[r,l]},getStatslogData:function(){return{core:E(e,[],{isQUS:e.isQUS.toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket}),counts:E(e,["closeupPins","completedSearches","clickthroughPins","savedPins","invitesRedeemed"],{revisitationCount:I(e.revisitationState.count||1),downloadedPinsCount:I(e.downloadedPinsCount)})}}}),P=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n,regionFromIp:i})=>{let a=(0,l.Z)({countryFromHostName:n||"",countryFromIp:t||"",regionFromIp:i||"",isAuthenticated:!!e}),r={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",regionFromIp:i||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:(0,h.K7)(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number(a)};if(e||!r.isAllowedCountry)return Object.freeze({...A(r),...r});r.closeupPins=(0,v.Z)(),r.completedSearches=m(),r.clickthroughPins=c(),r.downloadedPinsCount=y(),r.savedPins=S(),r.invitesRedeemed=(0,g.SL)(),r.revisitationState=(0,h.iU)();let o=A(r),[s,u]=o._getDaysSinceLastRevisitation();return r.daysSinceLastRevisitation=s,r.daysSinceLastRevisitationBucket=u,o._updateUnauthUserAggregateDefinitions(),Object.freeze({...o,...r})},{Provider:b,useHook:D}=(0,r.Z)("UnauthUserStateContext");function C(e,t){let{isAuthenticated:n,countryFromIp:i,countryFromHostName:a,isAllowedCountry:r,regionFromIp:l}=e;if(n||!r)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":f(t.payload);break;case"REMOVE_UNAUTH_COMPLETED_SEARCH":_(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":p(t.payload);break;default:return e}return P({isAuthenticated:n,countryFromIp:i,countryFromHostName:a,regionFromIp:l})}function k({children:e,initialState:t}){let[n,a]=(0,i.useReducer)(C,t,P);(0,s.Z)(()=>{a({type:"UPDATE"})});let r=(0,i.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:a}),[n,a]);return(0,R.jsx)(b,{value:r,children:e})}},842909:(e,t,n)=>{n.d(t,{Z:()=>i});let i=function(e){return{...e,ts:Date.now()}}},333289:(e,t,n)=>{n.d(t,{Lp:()=>u,SL:()=>o,nR:()=>s});var i=n(609326),a=n(640498),r=n(864723),l=n(842909);let o=()=>(0,r.M0)().getItem(i.nF)??[],s=()=>(0,r.M0)().getItem(i.T6)??"",u=e=>{if(!e)return;let t=(0,l.Z)({inviteCode:e}),n=(0,r.M0)();n.setItem(i.T6,t),n.prependItem(i.nF,t,a.LG)}},445330:(e,t,n)=>{n.d(t,{K7:()=>l,Vd:()=>s,iU:()=>o});var i=n(609326),a=n(864723),r=n(842909);let l=()=>({count:1,time:0,ts:Date.now()}),o=()=>{try{let{count:e,time:t,ts:n}=(0,a.M0)().getItem(i.SI)??{};if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return{count:e,time:t,ts:n};throw Error("Invalid revisitation data")}catch(e){return l()}},s=e=>{(0,a.M0)().setItem(i.SI,(0,r.Z)(e))}},814779:(e,t,n)=>{n.d(t,{E:()=>l,S:()=>o});var i=n(667294),a=n(786525);let r="_loggingInNotHome",l=e=>{e?(0,a.Nh)(r,1):(0,a.L_)(r)},o=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e&&(0,a.qn)(r)}},578406:(e,t,n)=>{n.d(t,{N4:()=>r,Wh:()=>i,hr:()=>a});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},927371:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(640498),a=n(623722),r=n(592305);let l=e=>{let t=new Date,n=new Date(new Date().setDate(t.getDate()-i.ZB));return e.filter(e=>"closeup"===e.pageType&&new Date(e.ts)>=n)},o=()=>l((0,r.ZP)()).map(e=>({...e,id:(0,a.Z)(e.path)||""}))},592305:(e,t,n)=>{n.d(t,{Z4:()=>u,ZP:()=>d,t_:()=>o});var i=n(609326),a=n(640498),r=n(864723),l=n(842909);let o=()=>{let e=(0,r.M0)().getItem(i.pm);return null!==e?JSON.stringify(e):""},s=()=>(0,r.M0)().getItem(i.pm)??[],u=(e,t)=>{let n=[...s()],o=n.length,u=o?n[0].path:"";if(!o||e!==u){let n=(0,l.Z)({path:e,pageType:t});(0,r.M0)().prependItem(i.pm,n,a.LG)}},d=s}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78722-d13a2e573100e26c.mjs.map